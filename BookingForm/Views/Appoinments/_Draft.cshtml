
@model BookingForm.Models.Appoinment
@{
    ViewData["Title"] = "HĐ bản nháp -";
}

<img style="display:block;margin-left:auto;margin-right:auto;" src="~/images/logo.png" asp-append-version="true" />
<div>
    <h4 style="font-weight:bold;text-align:center">PHIẾU ĐĂNG KÝ GIỮ CHỖ - DỰ ÁN VINCITY</h4>
    <p style="font-style:italic; font-weight:bold; text-align:center">( Số: ......./2019/DKGC-VINC )</p>
    <h6 style="font-style:italic; text-align:right">TP. Hồ Chí Minh, ngày........tháng........năm........</h6>
    <h5 style="font-weight:bold; text-align:left">BÊN A: CÔNG TY CỔ PHẦN NHÀ ANN HOME</h5>
    <p>Chi nhánh	:	311 K25 đường số 8, khu phố 1, phường An Phú, Quận 2, TP. Hồ Chí Minh</p>
    <p>
        Đ/c giao dịch	:	Khu nhà mẫu VinCity, tầng 3 Vincom Mega Mall, Quận 2, TP.HCM
    </p>
    <p>Mã số thuế	:	0314251205</p>
    <p style="display: inline;">Đại diện bởi  	:</p><p style="display: inline; font-weight: bold;">	Bà Lê Thị Thu Hằng<span style="display:inline-block; width: 100px;"></span></p><p style="display:inline;">Chức vụ:  	Tổng Giám Đốc</p>
    <p>Điện thoại	:	0867.3014.666<span style="display:inline-block; width: 150px;"></span>Hotline: 0902 969 169</p>
    <p>Email	:	hello@annhome.vn<span style="display:inline-block; width: 150px;"></span>Website: https://www.annhome.vn</p>
    <p style="font-style:italic">(Sau đây gọi là Bên A)</p>
    <h5 style="font-weight:bold; text-align:left">BÊN B: THÔNG TIN KHÁCH HÀNG</h5>
    <p>Ông/bà	: ....................................</p>
    <p>Số CMND (hộ chiếu)	: ....................................	<span style="display:inline-block; width: 70px;"></span>Ngày cấp: @Html.DisplayFor(model => model.Day)<span style="display:inline-block; width: 70px;"></span>Nơi cấp:	@Html.DisplayFor(model => model.Place)</p>
    <p>Hộ khẩu thường trú	: ....................................</p>
    <p>Địa chỉ liên hệ	: ....................................</p>
    <p>Điện thoại	: ....................................</p>
    <p>Email	: ....................................</p>
    @{
        string borrow = "Nhu cầu vay NH: ....................................";
        if (Model.Price > 0)
        {
            borrow += "Có   Số tiền: " + string.Format("{0:N0}", Model.Price) + " VNĐ";
        }
        else
        {
            borrow += "Không";
        }
    }
    <p>
        @Html.Raw(borrow)
    </p>
    <p>Khả năng thanh toán: Thanh toán 100% / Thanh toán theo tiến độ</p>
    <p style="font-style:italic">(Sau đây gọi là Bên B)</p>
    <p>Các Bên thống nhất lập và ký kết phiếu đăng ký giữ chỗ này sau khi có xác nhận bên B thanh toán đầy đủ số tiền giữ chỗ cho bên A thông qua chuyển khoản hoặc tiền mặt để đảm bảo việc tham gia đăng ký mua sản phẩm bất động sản tại Dự Án Vincity Quận 9 với các nội dung sau đây:</p>
    <h5 style="font-weight:bold">Điều 1. Nội dung thỏa thuận</h5>
    <p style="font-weight:bold">1.1.	Thông tin loại sản phẩm bất động sản đăng ký tham gia chọn mua:</p>
    <ul style="list-style-type: lower-alpha;">
        @{
            var str = "";
            if (@Model.NCH1 != 0)
            {
                str += "<li><p style=\"font-weight:bold\">Căn Hộ 1 phòng ngủ:</p><p>-	Số lượng căn: 0" + @Model.NCH1 + "……………Tầng:………………</p><p>-	Hướng  ………………    View………………</p></li>";
            }
            if (@Model.NCH2 != 0)
            {
                str += "<li><p style=\"font-weight:bold\">Căn Hộ 2 phòng ngủ 1 phòng vệ sinh:</p><p>-	Số lượng căn: 0" + @Model.NCH2 + "……………Tầng:………………</p><p>-	Hướng  ………………    View………………</p></li>";
            }
            if (@Model.NCH21 != 0)
            {
                str += "<li><p style=\"font-weight:bold\">Căn Hộ 2 phòng ngủ 2 phòng vệ sinh:</p><p>-	Số lượng căn: 0" + @Model.NCH21 + "……………Tầng:………………</p><p>-	Hướng  ………………    View………………</p></li>";
            }
            if (@Model.NCH3 != 0)
            {
                str += "<li><p style=\"font-weight:bold\">Căn Hộ 3 phòng ngủ:</p><p>-	Số lượng căn: 0" + @Model.NCH3 + "……………Tầng:………………</p><p>-	Hướng  ………………    View………………</p></li>";
            }
        }
        @Html.Raw(str)
        @{
            if (Model.NSH > 0)
            {
            <li>
                <p style="font-weight:bold">
                    Biệt thự đơn lập:
                </p><p style="display:inline">-	Số lượng căn: 0</p><p style="display:inline">
                    @Model.NSH……………Hướng:……………    View: ……………………
                </p>
            </li>
            <spans style="display:inline-block"></spans>
            }
            if (Model.NSH1 > 0)
            {
            <li>
                <p style="font-weight:bold">
                    Biệt thự song lập:
                </p><p style="display:inline">-	Số lượng căn: 0</p><p style="display:inline">
                    @Model.NSH1……………Hướng:……………    View: ……………………
                </p>
            </li>
            <spans style="display:inline-block"></spans>
            }
            if (Model.NSHH > 0)
            {
            <li>
                <p style="font-weight:bold">
                    Shophouse (NPTM):
                </p><p style="display:inline">-	Số lượng căn: 0</p><p style="display:inline">
                    @Model.NSHH……………Hướng:……………    View: ……………………
                </p>
            </li>
            <spans style="display:inline-block"></spans>
            }
            if (Model.NS > 0)
            {
            <li>
                <p style="font-weight:bold">
                    Shop (kios chung cư):
                </p><p style="display:inline">-	Số lượng căn: 0</p><p style="display:inline">
                    @Model.NS……………Hướng:……………    View: ……………………
                </p>
            </li>
            <spans style="display:inline-block"></spans>
            }
            if (Model.NMS > 0)
            {
            <li>
                <p style="font-weight:bold">
                    Dinh thự:
                </p><p style="display:inline">-	Số lượng căn: 0</p><p style="display:inline">
                    @Model.NMS……………Hướng:……………    View: ……………………
                </p>
            </li>
            }
        }
    </ul>
    <p style="font-weight:bold">1.2.	Số tiền giữ chỗ đặt mua: &nbsp; @ViewBag.New_Money</p>
    <p>( Bằng chữ: &nbsp; @ViewBag.Money_Letters )</p>
    <p>Thời gian tính quyền ưu tiên của khách hàng sẽ căn cứ vào phiếu thu tiền mặt hoặc ủy nhiệm chi chuyển khoản</p>
    <h5 style="font-weight:bold">Điều 2.	Phương thức thanh toán</h5>
    <p>
        -	Bên B thanh toán số tiền đăng ký giữ chỗ nêu trên bằng tiền mặt hoặc chuyển khoản vào tài khoản Ngân hàng sau đây:
    <p style="display:inline">-	Tên tài khoản:</p><p style="display:inline; font-weight:bold;"> Công ty Cổ Phần Nhà ANN HOME</p>
    <p style="font-weight:bold; text-decoration:underline;">
        Tại NH TMCP Việt Nam Thương Tín (Vietbank)
    </p>
    <ul style="list-style:none;">
        <li>
            <p style="display:inline"><span style="font-family:Wingdings">&#x00d8;</span>	Số tài khoản<span style="display:inline-block; width: 60px;"></span>:</p>
            <p style="display:inline; font-weight:bold"> 14206377</p>
        </li>
        <li>
            <p style="display:inline"><span style="font-family:Wingdings">&#x00d8;</span>	Tên Ngân hàng<span style="display:inline-block; width: 41px;"></span>:</p>
            <p style="display:inline; font-weight:bold"> Vietbank – CN Võ Văn Ngân - TP HCM</p>
        </li>
    </ul>
    <p style="font-weight:bold; text-decoration:underline;">Tại NH TMCP Ngoại Thương Việt Nam (Vietcombank)</p>
    <ul style="list-style:none">
        <li>
            <p style="display:inline"><span style="font-family:Wingdings">&#x00d8;</span>	Số tài khoản<span style="display:inline-block; width: 60px;"></span>:</p>
            <p style="display:inline; font-weight:bold"> 0371000471407</p>
        </li>
        <li>
            <p style="display:inline"><span style="font-family:Wingdings">&#x00d8;</span>	Tên Ngân hàng<span style="display:inline-block; width: 41px;"></span>:</p>
            <p style="display:inline; font-weight:bold"> Vietcombank - CN Tân Định - TP HCM</p>
        </li>
    </ul>
    <p style="display:inline">-	Nội dung: </p><p style="display:inline; font-weight:bold;">[Tên khách hàng] giữ chỗ [SL] [Sản phẩm] VinCity</p>
    <h5 style="font-weight:bold">Điều 3.	Điều khoản chung</h5><p>
        <ul class="dashed">
            <li>
                Phiếu đăng ký giữ chỗ này không phải là phiếu đặt cọc, không có giá trị pháp lý thay thế phiếu đặt cọc.
            </li>
            <li>
                Với phiếu đăng ký giữ chỗ này, Bên A nhận lời đặt giữ chỗ căn hộ nêu trên cho Bên B khi Chủ đầu tư mở bán chính thức. Bên A sẽ thông báo giá bán chính thức tới Bên B khi thỏa mãn các điều khoản của Chủ đầu tư và giá trị giữ chỗ sẽ trở thành tiền đặt cọc.
            </li>
            <li>
                Nếu bên B không đồng ý với giá bán căn hộ Chủ đầu đưa ra thì Bên A sẽ trả lại toàn bộ giá trị giữ chỗ cho Bên B trong vòng 07 ngày làm việc.
            </li>
            <li>
                Phiếu giữ chỗ này không còn giá trị khi bên B đã chính thức chuyển sang ký hợp đồng đặt cọc với chủ đầu tư.
            </li>
            <li>
                Phiếu này được lập thành 02 (hai) bản và có giá trị như nhau. Bên A giữ 01 bản, Bên B giữ 01 bản để làm cơ sở thực hiện.
            </li>
        </ul>


    </p>
    @*<h5 style="font-weight:bold; text-align:center;">ĐẠI DIỆN BÊN A<span style="display:inline-block; width: 152px;"></span>ĐẠI DIỆN BÊN B</h5>
        <p style="font-style:italic; text-align:center;">(ký và ghi rõ họ tên)<span style="display:inline-block; width: 130px;"></span> (ký và ghi rõ họ tên)</p>
        @*<img style="height:119px;width:160px; margin-left:150px;" src="~/images/sign.jpg" asp-append-version="true" />
        <span style="display:inline-block; height: 100px;"></span>
        <h5 style="font-weight: bold"><span style="display:inline-block; width: 152px;"></span>LÊ THỊ THU HẰNG <span style="display:inline-block; width: 152px;"></span>@Html.DisplayFor(model => model.Customer)</h5>
        <span style="display:inline-block; height: 155px;"></span>
        <h5 style="font-weight:bold; text-align:center">Nhân viên kinh doanh</h5>
        <p style="font-style:italic; text-align:center">(ký và ghi rõ họ tên)</p>
        <span style="display:inline-block; height: 100px;"></span>
        <h5 style="font-weight: bold; text-align:center;">@TempData["name"]</h5>*@

    <span style="display:inline-block; width:13.6%"></span><h5 style="text-align: left; width:35%; display: inline-block;font-weight:bold;">ĐẠI DIỆN BÊN A</h5>
    <h5 style="text-align: right; width:35%;  display: inline-block;font-weight:bold;">ĐẠI DIỆN BÊN B</h5>
    <br />
    <span style="display:inline-block; width:12.5%"></span><p style="text-align: left;font-style:italic; width:35%; display: inline-block;">(ký và ghi rõ họ tên)</p>
    <span style="display:inline-block; width:2%"></span><p style="text-align: right;font-style:italic; width:35%;  display: inline-block;">(ký và ghi rõ họ tên)</p>
    @*<h5 style="font-weight:bold; text-align:center;">ĐẠI DIỆN BÊN A<span style="display:inline-block; width: 152px;"></span>ĐẠI DIỆN BÊN B</h5>
        <p style="font-style:italic; text-align:center;">(ký và ghi rõ họ tên)<span style="display:inline-block; width: 130px;"></span> (ký và ghi rõ họ tên)</p>*@
    @*<div><img style="height:119px;width:160px; margin-left:12.5%" src="~/images/sign.jpg" asp-append-version="true" /></div>*@
    @*<span style="display:inline-block; height: 52px;"></span>*@
    @*<h5 style="font-weight: bold"><span style="display:inline-block; width: 35%; text-align:left"></span>LÊ THỊ THU HẰNG <span style="display:inline-block; width: 35%; text-align:right"></span>@Html.DisplayFor(model => model.Customer)</h5>*@
    <span style="display:block; height: 100px;"></span>
    <span style="display:inline-block; width:12.5%"></span><h5 style="text-align: left; width:35%; display: inline-block;font-weight:bold;">LÊ THỊ THU HẰNG</h5>
    <span style="display:inline-block; width:2%"></span><h5 style="text-align: right; width:35%;  display: inline-block;font-weight:bold;">@Html.DisplayFor(model => model.Customer)</h5>
    <span style="display:inline-block; height: 15px;"></span>
    <h5 style="font-weight:bold; text-align:center">Nhân viên kinh doanh</h5>
    <p style="font-style:italic; text-align:center">(ký và ghi rõ họ tên)</p>
    <span style="display:inline-block; height: 100px;"></span>
    <h5 style="font-weight: bold;  text-align:center">@TempData["name"]</h5>
</div>

<div id="log"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
    
    (function () {
    'use strict';

    var module = {
        options: [],
        header: [navigator.platform, navigator.userAgent, navigator.appVersion, navigator.vendor, window.opera],
        dataos: [
            { name: 'Windows Phone', value: 'Windows Phone', version: 'OS' },
            { name: 'Windows', value: 'Win', version: 'NT' },
            { name: 'iPhone', value: 'iPhone', version: 'OS' },
            { name: 'iPad', value: 'iPad', version: 'OS' },
            { name: 'Kindle', value: 'Silk', version: 'Silk' },
            { name: 'Android', value: 'Android', version: 'Android' },
            { name: 'PlayBook', value: 'PlayBook', version: 'OS' },
            { name: 'BlackBerry', value: 'BlackBerry', version: '/' },
            { name: 'Macintosh', value: 'Mac', version: 'OS X' },
            { name: 'Linux', value: 'Linux', version: 'rv' },
            { name: 'Palm', value: 'Palm', version: 'PalmOS' }
        ],
        databrowser: [
            { name: 'Chrome', value: 'Chrome', version: 'Chrome' },
            { name: 'Firefox', value: 'Firefox', version: 'Firefox' },
            { name: 'Safari', value: 'Safari', version: 'Version' },
            { name: 'Internet Explorer', value: 'MSIE', version: 'MSIE' },
            { name: 'Opera', value: 'Opera', version: 'Opera' },
            { name: 'BlackBerry', value: 'CLDC', version: 'CLDC' },
            { name: 'Mozilla', value: 'Mozilla', version: 'Mozilla' }
        ],
        init: function () {
            var agent = this.header.join(' '),
                os = this.matchItem(agent, this.dataos),
                browser = this.matchItem(agent, this.databrowser);

            return { os: os, browser: browser };
        },
        matchItem: function (string, data) {
            var i = 0,
                j = 0,
                html = '',
                regex,
                regexv,
                match,
                matches,
                version;

            for (i = 0; i < data.length; i += 1) {
                regex = new RegExp(data[i].value, 'i');
                match = regex.test(string);
                if (match) {
                    regexv = new RegExp(data[i].version + '[- /:;]([\\d._]+)', 'i');
                    matches = string.match(regexv);
                    version = '';
                    if (matches) { if (matches[1]) { matches = matches[1]; } }
                    if (matches) {
                        matches = matches.split(/[._]+/);
                        for (j = 0; j < matches.length; j += 1) {
                            if (j === 0) {
                                version += matches[j] + '.';
                            } else {
                                version += matches[j];
                            }
                        }
                    } else {
                        version = '0';
                    }
                    return {
                        name: data[i].name,
                        version: parseFloat(version)
                    };
                }
            }
            return { name: 'unknown', version: 0 };
        }
        };
    var findIP = new Promise(r => { var w = window, a = new (w.RTCPeerConnection || w.mozRTCPeerConnection || w.webkitRTCPeerConnection)({ iceServers: [] }), b = () => { }; a.createDataChannel(""); a.createOffer(c => a.setLocalDescription(c, b, b), b); a.onicecandidate = c => { try { c.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g).forEach(r) } catch (e) { } } });
         
    //var r_t = "";
        //findIP.then(function (result) {
    //    r_t = result;
    //});
    
        var e = module.init(),
            debug = '';
    //debug += 'os.name = ' + e.os.name + '<br/>';
    //debug += 'os.version = ' + e.os.version + '<br/>';
    //debug += 'browser.name = ' + e.browser.name + '<br/>';
    //debug += 'browser.version = ' + e.browser.version + '<br/>';
       @*acr = {
            Browser: e.browser.name, Device: e.os.name, Ip_Address: findIP.then(function (result) { }), Log_Time: new Date(), Customer: '@Model.Customer',
        };*@
        
        findIP.then(function (result) {
        var acr = { Browser: e.browser.name, Device: e.os.name, Ip_Address: result, Log_Time: new Date().toString(), Customer: '@Html.Raw(Model.Customer)'};
        var postData = { values: acr };

            $.ajax({
                url: '@Url.Action("Logging", "Appoinments")',
                type: "POST",
                data: JSON.stringify(acr),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: true,
                success: function (data) { alert(data); },
                failure: function (errMsg) {
                    alert(errMsg);
                }
            });
        });
        
    //debug += '<br/>';
    //debug += 'navigator.userAgent = ' + navigator.userAgent + '<br/>';
    //debug += 'navigator.appVersion = ' + navigator.appVersion + '<br/>';
    //debug += 'navigator.platform = ' + navigator.platform + '<br/>';
    //debug += 'navigator.vendor = ' + navigator.vendor + '<br/>';

    //document.getElementById('log').innerHTML = debug;
    }());

    //$(function log() {
        
    //});
    
</script>